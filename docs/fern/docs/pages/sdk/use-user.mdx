---
title: useUser
---

# useUser

Returns the current user information based on the provided options. The function can return different user types depending on the options and the project context.

## Parameters

- `options` (optional): `GetUserOptions` - An object containing options for retrieving the user. Defaults to an empty object.
  - `projectIdMustMatch` (optional): `string` - If provided, ensures the user belongs to the specified project.

## Example

```tsx
import { useUser } from '@stackframe/stack';

// Basic usage
const user = useUser();

// With options
const user = useUser({ projectIdMustMatch: 'project123' });

// For internal projects
const internalUser = useUser({ projectIdMustMatch: 'internal' });

if (user) {
  console.log('User logged in:', user.id);
} else {
  console.log('No user logged in');
}
```

The function returns a `CurrentUser`, `CurrentInternalUser`, or `null` depending on the options and the current authentication state.
The same hook can also be used to protect a page. (You might also want to check out the server-side version [here](../getting-started/users.mdx))
```jsx
import { useUser } from "@stackframe/stack";

function MyProtectedPage() {
  useUser({ or: "redirect" });
  return <div>You can only see this if you are authenticated</div>;
}
```

## Throw an error when not authenticated

By passing `{ or: "throw" }` into the hook, it will throw an error if the user is not authenticated. This can be used for places where the user should never be unauthenticated if the app is working correctly.
```jsx
import { useUser } from "@stackframe/stack";

function MyComponent() {
  // user is garanteed to be non-null, but an error will be thrown if the user is not authenticated
  const user = useUser({ or: "throw" }); 

  return <div>Hello, {user.name}</div>;
}
