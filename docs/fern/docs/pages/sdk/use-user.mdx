---
title: useUser
---

# useUser

Retrieves the current user information based on the provided options.

## Parameters

- `options` (optional): `GetUserOptions` - Configuration options for user retrieval.
  - `or`: `'redirect' | 'throw' | 'return-null'` - Specifies behavior when user is not found.
  - `tokenStore`: `'cookie' | 'nextjs-cookie' | 'memory' | { headers: { get: {} } } | { accessToken: string, refreshToken: string }` - Defines how to store authentication tokens.
  - `projectIdMustMatch`: `string` - Ensures the project ID matches the specified value.

## Example

```tsx
import { useUser } from '@stackframe/stack';

// Basic usage
const user = useUser();

// With options
const internalUser = useUser({
  or: 'throw',
  tokenStore: 'cookie',
  projectIdMustMatch: 'internal'
});

// Accessing user properties
if (user) {
  console.log(user.displayName);
  console.log(user.primaryEmail);
}

// Using user methods
if (internalUser) {
  await internalUser.setDisplayName('New Name');
  const team = await internalUser.createTeam({ name: 'New Team' });
}
``````

## Throw an error when not authenticated

By passing `{ or: "throw" }` into the hook, it will throw an error if the user is not authenticated. This can be used for places where the user should never be unauthenticated if the app is working correctly.
```jsx
import { useUser } from "@stackframe/stack";

function MyComponent() {
  // user is garanteed to be non-null, but an error will be thrown if the user is not authenticated
  const user = useUser({ or: "throw" }); 

  return <div>Hello, {user.name}</div>;
}
